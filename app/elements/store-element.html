<!DOCTYPE html>
<html>
<head>
    <link rel="import" href="../bower_components/polymer/polymer.html">
    <link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
    <link rel="import" href="../bower_components/iron-image/iron-image.html">
    <link rel="import" href="../bower_components/paper-item/paper-item.html">
    <link rel="import" href="../bower_components/paper-item/paper-item-body.html">
</head>

<dom-module id="store-element">
  <style>
    /* CSS rules for your element */
  </style>
  <template>
    <iron-ajax auto url="products.json" handleAs="json" on-response="hresponse"></iron-ajax>
    <template is="dom-repeat" items="{{products}}">
      <div style="padding:10px;">
        <paper-item>
          <div>
            <a href="{{item.link}}">
            <iron-image src="{{item.image}}"
                  style="width:450px; height:300px;"
                  sizing="contain">
            </iron-image>
            </a>
          </div>
          <div style="padding:10px">
            <paper-item-body two-line>
              <div><span>{{item.title}}</span></div>
              <div secondary>$<span>{{item.price}}</span>/pc</div>
            </paper-item-body>
            <ul>
              <template is="dom-repeat" items="{{item.bulletPoints}}" as="bullet">
                <li><span>{{bullet}}</span></li>
              </template>
            </ul>
          </div>
        </paper-item>
      </div>
    </template>
  </template>
</dom-module>
<script>
  Polymer({
    is: "store-element",
    properties: {
        products: {
          type: Array
        },
        productsJson: {
          type: String
        }
    },
    ready: function(e){

    },
    hresponse: function( data ) {
      this.products = data.detail.response;
    }
  });
</script>
